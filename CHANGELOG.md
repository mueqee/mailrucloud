# CHANGELOG

Все заметные изменения в этом проекте будут документироваться в этом файле.

## [1.0.0] - 2025-06-30

### Added
- Реализована авторизация через логин и сохранение токена (`auth.py`)
- Добавлен метод `list_files` для просмотра содержимого облака (`api.py`)
- Реализована загрузка файлов в облако Mail.ru через API (`upload.py`)
- Добавлена функция скачивания файлов из Mail.ru Cloud (`download.py`)
- Добавлен Click-интерфейс с командами `login` и `ls` (`cli.py`)
- Добавлена система конфигурации через JSON-файл (`config.py`)
- Добавлен заготовочный файл для вспомогательных функций (`utils.py`)
- Добавлена точка входа в CLI-приложение (`main.py`)
- Определены зависимости проекта: `click` и `requests` (`requirements.txt`)
- Добавлены инструкции по установке и использованию CLI (`README.md`)

## [1.1.0] - 2025-07-06

### Changed
- Полный переход на WebDAV вместо устаревшего REST API v2/CSRF.
- Упрощена авторизация: учётные данные (e-mail и пароль приложения) хранятся в `~/.mailru_token.json`.
- Обновлены модули: `auth`, `api`, `upload`, `download` и добавлен `network`.

### Added
- Новый модуль `network.py` – провайдер WebDAV-клиента.
- Команды `upload` и `download` в CLI.
- Зависимость `webdavclient3`.

### Removed
- Удалены вызовы REST-эндпоинтов `/api/v2/*`.
- Удалён устаревший файл `dowload.py`.

## [1.2.0] - 2025-07-07

### Added
- Двусторонняя синхронизация каталогов (`sync.py`), поддерживающая режимы `push`, `pull`, `both`.
- Опция `--direction/-d` для команды CLI `sync` (`cli.py`).
- Файл `tests/MANUAL_TESTING.md` — подробное руководство по ручному тестированию (не коммитится).

### Fixed
- Обход отсутствия заголовка `Content-Length` при скачивании файлов (`download.py`).

### Changed
- README обновлён: добавлены инструкции по синхронизации и обновлена структура установки.
- `.gitignore` расширен, чтобы исключать локальный чек-лист тестирования.

## [1.3.1] - 2025-07-08

### Added
- Workflow `release.yml` для автоматической публикации в PyPI.
- Бейдж статуса публикации и версии PyPI в README.

### Changed
- README: обновлён раздел установки, Roadmap отмечена как выполненная.
- `pyproject.toml`: повышена версия до 1.3.2.

## [1.3.2] - 2025-07-08

### Added
- Фоновый демон синхронизации (`sync_daemon.py`).
- Команды `start` и `stop` в `cli.py` для управления демоном.
- Автоматическое создание каталога `~/Mail.Cloud` при первом запуске демона.
- PID-файл `~/.mailrucloud-daemon.pid` с защитой от повторного запуска.

### Docs
- README обновлён инструкциями по демону и синхронизации.

## [1.3.3] - 2025-07-07

### Added
- Команды CLI: `rm`, `mv`, `info` для удаления, переименования и получения сведений о файле.
- Функции `delete_file`, `move_file`, `file_info` в `api.py`.

### Docs
- README дополнен описанием новых команд.

### Fixed
* Команда `ls` теперь принимает опциональный аргумент каталога.

## [1.4.0] - 2024-07-17
- Добавлена поддержка рекурсивного создания директорий в облаке при загрузке (sync push)

## [1.4.1] - 2024-07-17
- Добавлен прогресс-бар для команды sync с помощью библиотеки rich
- Улучшен UX при загрузке файлов в облако

## [1.4.2] - 2024-07-17
- Реализована многопоточная загрузка файлов (параметр --threads)
- Добавлена опция --only-new для загрузки только новых файлов без проверки размера
- Добавлено логирование времени на каждый файл при загрузке
- Улучшена производительность синхронизации
